create table public.user_academic_year_mapping (
  user_id uuid not null default gen_random_uuid (),
  student_grade_id bigint null,
  academic_year_id bigint null,
  created_at timestamp with time zone not null default now(),
  constraint user_academic_year_mapping_academic_year_id_fkey foreign KEY (academic_year_id) references academic_years (id),
  constraint user_academic_year_mapping_student_grade_id_fkey foreign KEY (student_grade_id) references grades (id),
  constraint user_academic_year_mapping_user_id_fkey foreign KEY (user_id) references profiles (id)
) TABLESPACE pg_default;

create table public.user_curriculum_mapping (
  user_id uuid not null,
  curriculum_id bigint not null,
  constraint user_curriculum_mapping_pkey primary key (user_id, curriculum_id),
  constraint user_curriculum_mapping_curriculum_id_fkey foreign KEY (curriculum_id) references curriculums (id),
  constraint user_curriculum_mapping_user_id_fkey foreign KEY (user_id) references profiles (id)
) TABLESPACE pg_default;

create table public.user_grade_mapping (
  user_id uuid not null,
  grade_id bigint not null,
  constraint user_grade_mapping_pkey primary key (user_id, grade_id),
  constraint user_grade_mapping_grade_id_fkey foreign KEY (grade_id) references grades (id),
  constraint user_grade_mapping_user_id_fkey foreign KEY (user_id) references profiles (id)
) TABLESPACE pg_default;

create table public.user_subject_mapping (
  user_id uuid not null,
  subject_id bigint not null,
  constraint user_subject_mapping_pkey primary key (user_id, subject_id),
  constraint user_subject_mapping_subject_id_fkey foreign KEY (subject_id) references subjects (id),
  constraint user_subject_mapping_user_id_fkey foreign KEY (user_id) references profiles (id)
) TABLESPACE pg_default;